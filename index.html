<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Katas de JavaScript 2</title>
</head>

<body>
    <script>
        function add(value1, value2) {
            return value1 + value2;
        }

        console.assert(add(3, 5) === 8, 'A função add não está funcionando como esperado');

        function multiply(value1, value2) {
            let menorNumero = value1 < value2 ? value1 : value2;
            let maiorNumero = value1 < value2 ? value2 : value1;

            let resultado = 0;

            for (let i = 0; i < maiorNumero; i++) {
                resultado = add(resultado, menorNumero);
            }

            return resultado;
        }

        console.assert(multiply(4, 6) === 24, 'A função multiply não está funcionando como esperado');

        function power(x, n) {
            let resultado = x;
            for (let i = 1; i < n; i++) {
                resultado = multiply(x, resultado);
            }
            return resultado;
        }

        console.assert(power(3, 4) === 81, 'A função power não está funcionando como esperado');

        function factorial(x) {
            let resultado = 1;
            for (let i = x; i > 1; i--) {
                resultado = multiply(resultado, i);
            }
            return resultado;
        }

        console.assert(factorial(5) === 120, 'A função factorial não está funcionando como esperado');


        /**
         * BONUS (aviso: o grau de dificuldade é bem maior !!!)
         */

        function fibonacci(x) {
            if (x < 2) return x;
            return add(fibonacci(x -1),  fibonacci(x - 2));
        }

        console.assert(fibonacci(7) === 13, 'A função fibonacci não está funcionando como esperado');
    </script>
</body>

</html>
